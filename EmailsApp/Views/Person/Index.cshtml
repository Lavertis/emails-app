@model EmailsApp.Models.PersonListViewModel

@{
ViewBag.Title = "title";
Layout = "_Layout";
}

<h2>People</h2>

<table class="table">
    <thead>
    <tr>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Email Address</th>
        <th>Description</th>
        <th></th> <!-- Empty header for the details button -->
    </tr>
    </thead>
    <tbody>
    @foreach (var person in Model.Persons)
    {
        <tr>
            <td>@person.FirstName</td>
            <td>@person.LastName</td>
            <td>@person.EmailAddress</td>
            <td>@person.Description@(person.IsDescriptionTruncated ? "..." : "")</td>
            <td>
                <a href="@Url.Action("Details", "Person", new { id = person.Id })" class="btn btn-primary">
                    <i class="fa-regular fa-eye"></i>
                </a>
            </td>
        </tr>
    }
    </tbody>
</table>

<div class="d-flex justify-content-center">
    <nav aria-label="Page navigation">
        <ul class="pagination">
            <li class="page-item @(Model.Page == 1 ? "disabled" : "")">
                <a class="page-link" href="@Url.Action("Index", "Person", new { page = Model.Page - 1 })">
                    Previous
                </a>
            </li>
            @for (var i = 1; i <= Model.PageCount; i++)
            {
            <li class="page-item @(i == Model.Page ? "active" : "")">
                <a class="page-link" href="@Url.Action("Index", "Person", new { page = i })">
                    @i
                </a>
            </li>
            }
            <li class="page-item @(Model.Page == Model.PageCount ? "disabled" : "")">
                <a class="page-link" href="@Url.Action("Index", "Person", new { page = Model.Page + 1 })">
                    Next
                </a>
            </li>
        </ul>
    </nav>
</div>
